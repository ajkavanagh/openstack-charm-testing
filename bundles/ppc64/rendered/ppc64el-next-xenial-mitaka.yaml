# Do not edit this file by hand.  Changes may be lost as it was rendered from another bundle.
relations:
- - keystone
  - mysql
- - nova-cloud-controller
  - mysql
- - nova-cloud-controller
  - rabbitmq-server
- - nova-cloud-controller
  - glance
- - nova-cloud-controller
  - keystone
- - nova-compute
  - nova-cloud-controller
- - nova-compute
  - mysql
- - nova-compute
  - rabbitmq-server:amqp
- - nova-compute
  - glance
- - glance
  - mysql
- - glance
  - keystone
- - glance
  - cinder
- - cinder
  - mysql
- - cinder
  - rabbitmq-server
- - cinder
  - nova-cloud-controller
- - cinder
  - keystone
- - neutron-gateway
  - nova-cloud-controller
- - openstack-dashboard
  - keystone
- - ceilometer
  - keystone:identity-service
- - ceilometer
  - rabbitmq-server
- - ceilometer
  - mongodb
- - ceilometer-agent
  - nova-compute
- - ceilometer-agent
  - ceilometer
- - heat
  - mysql
- - heat
  - keystone
- - heat
  - rabbitmq-server
- - ntp:juju-info
  - nova-compute:juju-info
- - ntp:juju-info
  - neutron-gateway:juju-info
- - neutron-gateway:amqp
  - rabbitmq-server
- - neutron-api
  - mysql
- - neutron-api
  - rabbitmq-server
- - neutron-api
  - nova-cloud-controller
- - neutron-api
  - neutron-openvswitch
- - neutron-api
  - keystone
- - neutron-api
  - neutron-gateway
- - neutron-openvswitch
  - nova-compute
- - neutron-openvswitch
  - rabbitmq-server
series: xenial
services:
  ceilometer:
    charm: cs:~openstack-charmers-next/xenial/ceilometer
    to:
    - lxc:nova-compute=1
  ceilometer-agent:
    charm: cs:~openstack-charmers-next/xenial/ceilometer-agent
  cinder:
    charm: cs:~openstack-charmers-next/xenial/cinder
    options:
      block-device: /dev/sdd
      debug: true
      glance-api-version: 2
    to:
    - lxc:nova-compute=1
  cinder-ceph:
    charm: cs:~openstack-charmers-next/xenial/cinder-ceph
  glance:
    charm: cs:~openstack-charmers-next/xenial/glance
    options:
      debug: true
    to:
    - lxc:nova-compute=1
  heat:
    charm: cs:~openstack-charmers-next/xenial/heat
    to:
    - lxc:nova-compute=1
  juju-gui:
    branch: lp:charms/trusty/juju-gui
    to:
    - lxc:0
  keystone:
    charm: cs:~openstack-charmers-next/xenial/keystone
    options:
      admin-password: openstack
      admin-token: ubuntutesting
      debug: true
    to:
    - lxc:nova-compute=0
  mongodb:
    branch: lp:charms/trusty/mongodb
    to:
    - lxc:nova-compute=1
  mysql:
    branch: lp:charms/trusty/mysql
    options:
      dataset-size: 15%
      max-connections: 20000
    to:
    - lxc:0
  neutron-api:
    charm: cs:~openstack-charmers-next/xenial/neutron-api
    options:
      debug: true
      flat-network-providers: physnet1
      neutron-security-groups: true
    to:
    - lxc:nova-compute=0
  neutron-gateway:
    charm: cs:~openstack-charmers-next/xenial/neutron-gateway
    options:
      bridge-mappings: physnet1:br-ex
      debug: true
      instance-mtu: 1300
    to:
    - '0'
  neutron-openvswitch:
    charm: cs:~openstack-charmers-next/xenial/neutron-openvswitch
  nova-cloud-controller:
    charm: cs:~openstack-charmers-next/xenial/nova-cloud-controller
    options:
      debug: true
      network-manager: Neutron
    to:
    - lxc:nova-compute=0
  nova-compute:
    charm: cs:~openstack-charmers-next/xenial/nova-compute
    constraints: arch=ppc64el
    num_units: 2
    options:
      debug: true
      enable-live-migration: true
      enable-resize: true
      migration-auth-type: ssh
  ntp:
    branch: lp:charms/trusty/ntp
    num_units: 0
  openstack-dashboard:
    charm: cs:~openstack-charmers-next/xenial/openstack-dashboard
    to:
    - lxc:nova-compute=0
  rabbitmq-server:
    charm: cs:~openstack-charmers-next/xenial/rabbitmq-server
    to:
    - lxc:0
